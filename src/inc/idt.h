#ifndef		__IDT_H_
#define		__IDT_H_

/* Surely you will remove the processor conditionals and this comment
appropriately depending on whether or not you use C++. */
#if !defined(__cplusplus)
#include <stdbool.h> /* C doesn't have booleans by default. */
#endif
#include <stddef.h>
#include <stdint.h>

/* Check if the compiler thinks we are targeting the wrong operating system. */
#if defined(__linux__)
#error "You are not using a cross-compiler, you will most certainly run into trouble"
#endif

/* This tutorial will only work for the 32-bit ix86 targets. */

#if !defined(__i386__)
#error "This tutorial needs to be compiled with a ix86-elf compiler"
#endif

#if defined(__cplusplus)
extern "C" /* Use C linkage for kernel_main. */
#endif

#define STI \
__asm__\
( \
	"sti\n"\
	"nop\n"\
);

#define CLI \
__asm__\
( \
	"cli\n"\
	"nop\n"\
);

#define COMMON_INTERRUPT_HANDLER_EXTERN(i) extern void CommonInterruptHandler##i();

#define COMMON_INTERRUPT_HANDLER_SETUP_ENTRY(i) \
{ \
	unsigned int HandlerPtr = (unsigned int)&CommonInterruptHandler##i;\
\
	IDT_Ptr[i].HandlerPtr_Low = (unsigned short)(HandlerPtr & 0x0000FFFF);\
	IDT_Ptr[i].HandlerPtr_High = (unsigned short)((HandlerPtr >> 16) & 0x0000FFFF);\
	IDT_Ptr[i].Selector = 0x8;\
	IDT_Ptr[i].Reserved = 0x0;\
	IDT_Ptr[i].GateType = 0xE;\
	IDT_Ptr[i].StorageSegment = 0x0;\
	IDT_Ptr[i].DPL = 0x0;\
	IDT_Ptr[i].Present = 0x1;\
}

COMMON_INTERRUPT_HANDLER_EXTERN(0)
COMMON_INTERRUPT_HANDLER_EXTERN(1)
COMMON_INTERRUPT_HANDLER_EXTERN(2)
COMMON_INTERRUPT_HANDLER_EXTERN(3)
COMMON_INTERRUPT_HANDLER_EXTERN(4)
COMMON_INTERRUPT_HANDLER_EXTERN(5)
COMMON_INTERRUPT_HANDLER_EXTERN(6)
COMMON_INTERRUPT_HANDLER_EXTERN(7)
COMMON_INTERRUPT_HANDLER_EXTERN(8)
COMMON_INTERRUPT_HANDLER_EXTERN(9)
COMMON_INTERRUPT_HANDLER_EXTERN(10)
COMMON_INTERRUPT_HANDLER_EXTERN(11)
COMMON_INTERRUPT_HANDLER_EXTERN(12)
COMMON_INTERRUPT_HANDLER_EXTERN(13)
COMMON_INTERRUPT_HANDLER_EXTERN(14)
COMMON_INTERRUPT_HANDLER_EXTERN(15)
COMMON_INTERRUPT_HANDLER_EXTERN(16)
COMMON_INTERRUPT_HANDLER_EXTERN(17)
COMMON_INTERRUPT_HANDLER_EXTERN(18)
COMMON_INTERRUPT_HANDLER_EXTERN(19)
COMMON_INTERRUPT_HANDLER_EXTERN(20)
COMMON_INTERRUPT_HANDLER_EXTERN(21)
COMMON_INTERRUPT_HANDLER_EXTERN(22)
COMMON_INTERRUPT_HANDLER_EXTERN(23)
COMMON_INTERRUPT_HANDLER_EXTERN(24)
COMMON_INTERRUPT_HANDLER_EXTERN(25)
COMMON_INTERRUPT_HANDLER_EXTERN(26)
COMMON_INTERRUPT_HANDLER_EXTERN(27)
COMMON_INTERRUPT_HANDLER_EXTERN(28)
COMMON_INTERRUPT_HANDLER_EXTERN(29)
COMMON_INTERRUPT_HANDLER_EXTERN(30)
COMMON_INTERRUPT_HANDLER_EXTERN(31)
COMMON_INTERRUPT_HANDLER_EXTERN(32)
COMMON_INTERRUPT_HANDLER_EXTERN(33)
COMMON_INTERRUPT_HANDLER_EXTERN(34)
COMMON_INTERRUPT_HANDLER_EXTERN(35)
COMMON_INTERRUPT_HANDLER_EXTERN(36)
COMMON_INTERRUPT_HANDLER_EXTERN(37)
COMMON_INTERRUPT_HANDLER_EXTERN(38)
COMMON_INTERRUPT_HANDLER_EXTERN(39)
COMMON_INTERRUPT_HANDLER_EXTERN(40)
COMMON_INTERRUPT_HANDLER_EXTERN(41)
COMMON_INTERRUPT_HANDLER_EXTERN(42)
COMMON_INTERRUPT_HANDLER_EXTERN(43)
COMMON_INTERRUPT_HANDLER_EXTERN(44)
COMMON_INTERRUPT_HANDLER_EXTERN(45)
COMMON_INTERRUPT_HANDLER_EXTERN(46)
COMMON_INTERRUPT_HANDLER_EXTERN(47)
COMMON_INTERRUPT_HANDLER_EXTERN(48)
COMMON_INTERRUPT_HANDLER_EXTERN(49)
COMMON_INTERRUPT_HANDLER_EXTERN(50)
COMMON_INTERRUPT_HANDLER_EXTERN(51)
COMMON_INTERRUPT_HANDLER_EXTERN(52)
COMMON_INTERRUPT_HANDLER_EXTERN(53)
COMMON_INTERRUPT_HANDLER_EXTERN(54)
COMMON_INTERRUPT_HANDLER_EXTERN(55)
COMMON_INTERRUPT_HANDLER_EXTERN(56)
COMMON_INTERRUPT_HANDLER_EXTERN(57)
COMMON_INTERRUPT_HANDLER_EXTERN(58)
COMMON_INTERRUPT_HANDLER_EXTERN(59)
COMMON_INTERRUPT_HANDLER_EXTERN(60)
COMMON_INTERRUPT_HANDLER_EXTERN(61)
COMMON_INTERRUPT_HANDLER_EXTERN(62)
COMMON_INTERRUPT_HANDLER_EXTERN(63)
COMMON_INTERRUPT_HANDLER_EXTERN(64)
COMMON_INTERRUPT_HANDLER_EXTERN(65)
COMMON_INTERRUPT_HANDLER_EXTERN(66)
COMMON_INTERRUPT_HANDLER_EXTERN(67)
COMMON_INTERRUPT_HANDLER_EXTERN(68)
COMMON_INTERRUPT_HANDLER_EXTERN(69)
COMMON_INTERRUPT_HANDLER_EXTERN(70)
COMMON_INTERRUPT_HANDLER_EXTERN(71)
COMMON_INTERRUPT_HANDLER_EXTERN(72)
COMMON_INTERRUPT_HANDLER_EXTERN(73)
COMMON_INTERRUPT_HANDLER_EXTERN(74)
COMMON_INTERRUPT_HANDLER_EXTERN(75)
COMMON_INTERRUPT_HANDLER_EXTERN(76)
COMMON_INTERRUPT_HANDLER_EXTERN(77)
COMMON_INTERRUPT_HANDLER_EXTERN(78)
COMMON_INTERRUPT_HANDLER_EXTERN(79)
COMMON_INTERRUPT_HANDLER_EXTERN(80)
COMMON_INTERRUPT_HANDLER_EXTERN(81)
COMMON_INTERRUPT_HANDLER_EXTERN(82)
COMMON_INTERRUPT_HANDLER_EXTERN(83)
COMMON_INTERRUPT_HANDLER_EXTERN(84)
COMMON_INTERRUPT_HANDLER_EXTERN(85)
COMMON_INTERRUPT_HANDLER_EXTERN(86)
COMMON_INTERRUPT_HANDLER_EXTERN(87)
COMMON_INTERRUPT_HANDLER_EXTERN(88)
COMMON_INTERRUPT_HANDLER_EXTERN(89)
COMMON_INTERRUPT_HANDLER_EXTERN(90)
COMMON_INTERRUPT_HANDLER_EXTERN(91)
COMMON_INTERRUPT_HANDLER_EXTERN(92)
COMMON_INTERRUPT_HANDLER_EXTERN(93)
COMMON_INTERRUPT_HANDLER_EXTERN(94)
COMMON_INTERRUPT_HANDLER_EXTERN(95)
COMMON_INTERRUPT_HANDLER_EXTERN(96)
COMMON_INTERRUPT_HANDLER_EXTERN(97)
COMMON_INTERRUPT_HANDLER_EXTERN(98)
COMMON_INTERRUPT_HANDLER_EXTERN(99)
COMMON_INTERRUPT_HANDLER_EXTERN(100)
COMMON_INTERRUPT_HANDLER_EXTERN(101)
COMMON_INTERRUPT_HANDLER_EXTERN(102)
COMMON_INTERRUPT_HANDLER_EXTERN(103)
COMMON_INTERRUPT_HANDLER_EXTERN(104)
COMMON_INTERRUPT_HANDLER_EXTERN(105)
COMMON_INTERRUPT_HANDLER_EXTERN(106)
COMMON_INTERRUPT_HANDLER_EXTERN(107)
COMMON_INTERRUPT_HANDLER_EXTERN(108)
COMMON_INTERRUPT_HANDLER_EXTERN(109)
COMMON_INTERRUPT_HANDLER_EXTERN(110)
COMMON_INTERRUPT_HANDLER_EXTERN(111)
COMMON_INTERRUPT_HANDLER_EXTERN(112)
COMMON_INTERRUPT_HANDLER_EXTERN(113)
COMMON_INTERRUPT_HANDLER_EXTERN(114)
COMMON_INTERRUPT_HANDLER_EXTERN(115)
COMMON_INTERRUPT_HANDLER_EXTERN(116)
COMMON_INTERRUPT_HANDLER_EXTERN(117)
COMMON_INTERRUPT_HANDLER_EXTERN(118)
COMMON_INTERRUPT_HANDLER_EXTERN(119)
COMMON_INTERRUPT_HANDLER_EXTERN(120)
COMMON_INTERRUPT_HANDLER_EXTERN(121)
COMMON_INTERRUPT_HANDLER_EXTERN(122)
COMMON_INTERRUPT_HANDLER_EXTERN(123)
COMMON_INTERRUPT_HANDLER_EXTERN(124)
COMMON_INTERRUPT_HANDLER_EXTERN(125)
COMMON_INTERRUPT_HANDLER_EXTERN(126)
COMMON_INTERRUPT_HANDLER_EXTERN(127)
COMMON_INTERRUPT_HANDLER_EXTERN(128)
COMMON_INTERRUPT_HANDLER_EXTERN(129)
COMMON_INTERRUPT_HANDLER_EXTERN(130)
COMMON_INTERRUPT_HANDLER_EXTERN(131)
COMMON_INTERRUPT_HANDLER_EXTERN(132)
COMMON_INTERRUPT_HANDLER_EXTERN(133)
COMMON_INTERRUPT_HANDLER_EXTERN(134)
COMMON_INTERRUPT_HANDLER_EXTERN(135)
COMMON_INTERRUPT_HANDLER_EXTERN(136)
COMMON_INTERRUPT_HANDLER_EXTERN(137)
COMMON_INTERRUPT_HANDLER_EXTERN(138)
COMMON_INTERRUPT_HANDLER_EXTERN(139)
COMMON_INTERRUPT_HANDLER_EXTERN(140)
COMMON_INTERRUPT_HANDLER_EXTERN(141)
COMMON_INTERRUPT_HANDLER_EXTERN(142)
COMMON_INTERRUPT_HANDLER_EXTERN(143)
COMMON_INTERRUPT_HANDLER_EXTERN(144)
COMMON_INTERRUPT_HANDLER_EXTERN(145)
COMMON_INTERRUPT_HANDLER_EXTERN(146)
COMMON_INTERRUPT_HANDLER_EXTERN(147)
COMMON_INTERRUPT_HANDLER_EXTERN(148)
COMMON_INTERRUPT_HANDLER_EXTERN(149)
COMMON_INTERRUPT_HANDLER_EXTERN(150)
COMMON_INTERRUPT_HANDLER_EXTERN(151)
COMMON_INTERRUPT_HANDLER_EXTERN(152)
COMMON_INTERRUPT_HANDLER_EXTERN(153)
COMMON_INTERRUPT_HANDLER_EXTERN(154)
COMMON_INTERRUPT_HANDLER_EXTERN(155)
COMMON_INTERRUPT_HANDLER_EXTERN(156)
COMMON_INTERRUPT_HANDLER_EXTERN(157)
COMMON_INTERRUPT_HANDLER_EXTERN(158)
COMMON_INTERRUPT_HANDLER_EXTERN(159)
COMMON_INTERRUPT_HANDLER_EXTERN(160)
COMMON_INTERRUPT_HANDLER_EXTERN(161)
COMMON_INTERRUPT_HANDLER_EXTERN(162)
COMMON_INTERRUPT_HANDLER_EXTERN(163)
COMMON_INTERRUPT_HANDLER_EXTERN(164)
COMMON_INTERRUPT_HANDLER_EXTERN(165)
COMMON_INTERRUPT_HANDLER_EXTERN(166)
COMMON_INTERRUPT_HANDLER_EXTERN(167)
COMMON_INTERRUPT_HANDLER_EXTERN(168)
COMMON_INTERRUPT_HANDLER_EXTERN(169)
COMMON_INTERRUPT_HANDLER_EXTERN(170)
COMMON_INTERRUPT_HANDLER_EXTERN(171)
COMMON_INTERRUPT_HANDLER_EXTERN(172)
COMMON_INTERRUPT_HANDLER_EXTERN(173)
COMMON_INTERRUPT_HANDLER_EXTERN(174)
COMMON_INTERRUPT_HANDLER_EXTERN(175)
COMMON_INTERRUPT_HANDLER_EXTERN(176)
COMMON_INTERRUPT_HANDLER_EXTERN(177)
COMMON_INTERRUPT_HANDLER_EXTERN(178)
COMMON_INTERRUPT_HANDLER_EXTERN(179)
COMMON_INTERRUPT_HANDLER_EXTERN(180)
COMMON_INTERRUPT_HANDLER_EXTERN(181)
COMMON_INTERRUPT_HANDLER_EXTERN(182)
COMMON_INTERRUPT_HANDLER_EXTERN(183)
COMMON_INTERRUPT_HANDLER_EXTERN(184)
COMMON_INTERRUPT_HANDLER_EXTERN(185)
COMMON_INTERRUPT_HANDLER_EXTERN(186)
COMMON_INTERRUPT_HANDLER_EXTERN(187)
COMMON_INTERRUPT_HANDLER_EXTERN(188)
COMMON_INTERRUPT_HANDLER_EXTERN(189)
COMMON_INTERRUPT_HANDLER_EXTERN(190)
COMMON_INTERRUPT_HANDLER_EXTERN(191)
COMMON_INTERRUPT_HANDLER_EXTERN(192)
COMMON_INTERRUPT_HANDLER_EXTERN(193)
COMMON_INTERRUPT_HANDLER_EXTERN(194)
COMMON_INTERRUPT_HANDLER_EXTERN(195)
COMMON_INTERRUPT_HANDLER_EXTERN(196)
COMMON_INTERRUPT_HANDLER_EXTERN(197)
COMMON_INTERRUPT_HANDLER_EXTERN(198)
COMMON_INTERRUPT_HANDLER_EXTERN(199)
COMMON_INTERRUPT_HANDLER_EXTERN(200)
COMMON_INTERRUPT_HANDLER_EXTERN(201)
COMMON_INTERRUPT_HANDLER_EXTERN(202)
COMMON_INTERRUPT_HANDLER_EXTERN(203)
COMMON_INTERRUPT_HANDLER_EXTERN(204)
COMMON_INTERRUPT_HANDLER_EXTERN(205)
COMMON_INTERRUPT_HANDLER_EXTERN(206)
COMMON_INTERRUPT_HANDLER_EXTERN(207)
COMMON_INTERRUPT_HANDLER_EXTERN(208)
COMMON_INTERRUPT_HANDLER_EXTERN(209)
COMMON_INTERRUPT_HANDLER_EXTERN(210)
COMMON_INTERRUPT_HANDLER_EXTERN(211)
COMMON_INTERRUPT_HANDLER_EXTERN(212)
COMMON_INTERRUPT_HANDLER_EXTERN(213)
COMMON_INTERRUPT_HANDLER_EXTERN(214)
COMMON_INTERRUPT_HANDLER_EXTERN(215)
COMMON_INTERRUPT_HANDLER_EXTERN(216)
COMMON_INTERRUPT_HANDLER_EXTERN(217)
COMMON_INTERRUPT_HANDLER_EXTERN(218)
COMMON_INTERRUPT_HANDLER_EXTERN(219)
COMMON_INTERRUPT_HANDLER_EXTERN(220)
COMMON_INTERRUPT_HANDLER_EXTERN(221)
COMMON_INTERRUPT_HANDLER_EXTERN(222)
COMMON_INTERRUPT_HANDLER_EXTERN(223)
COMMON_INTERRUPT_HANDLER_EXTERN(224)
COMMON_INTERRUPT_HANDLER_EXTERN(225)
COMMON_INTERRUPT_HANDLER_EXTERN(226)
COMMON_INTERRUPT_HANDLER_EXTERN(227)
COMMON_INTERRUPT_HANDLER_EXTERN(228)
COMMON_INTERRUPT_HANDLER_EXTERN(229)
COMMON_INTERRUPT_HANDLER_EXTERN(230)
COMMON_INTERRUPT_HANDLER_EXTERN(231)
COMMON_INTERRUPT_HANDLER_EXTERN(232)
COMMON_INTERRUPT_HANDLER_EXTERN(233)
COMMON_INTERRUPT_HANDLER_EXTERN(234)
COMMON_INTERRUPT_HANDLER_EXTERN(235)
COMMON_INTERRUPT_HANDLER_EXTERN(236)
COMMON_INTERRUPT_HANDLER_EXTERN(237)
COMMON_INTERRUPT_HANDLER_EXTERN(238)
COMMON_INTERRUPT_HANDLER_EXTERN(239)
COMMON_INTERRUPT_HANDLER_EXTERN(240)
COMMON_INTERRUPT_HANDLER_EXTERN(241)
COMMON_INTERRUPT_HANDLER_EXTERN(242)
COMMON_INTERRUPT_HANDLER_EXTERN(243)
COMMON_INTERRUPT_HANDLER_EXTERN(244)
COMMON_INTERRUPT_HANDLER_EXTERN(245)
COMMON_INTERRUPT_HANDLER_EXTERN(246)
COMMON_INTERRUPT_HANDLER_EXTERN(247)
COMMON_INTERRUPT_HANDLER_EXTERN(248)
COMMON_INTERRUPT_HANDLER_EXTERN(249)
COMMON_INTERRUPT_HANDLER_EXTERN(250)
COMMON_INTERRUPT_HANDLER_EXTERN(251)
COMMON_INTERRUPT_HANDLER_EXTERN(252)
COMMON_INTERRUPT_HANDLER_EXTERN(253)
COMMON_INTERRUPT_HANDLER_EXTERN(254)
COMMON_INTERRUPT_HANDLER_EXTERN(255)


#endif